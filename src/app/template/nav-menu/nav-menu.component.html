<div class="contenedor-padre">
  <mat-toolbar color="primary">
    <button
      mat-icon-button
      class="example-icon"
      aria-label="Example icon-button with menu icon"
      (click)="cajon.toggle()"
    >
      <mat-icon>menu</mat-icon>
    </button>
    <span>Internetowy system zarządzania serwisem komputerowym</span>
    <span class="spacer"></span>
    <h3>{{ name }}</h3>
    <button mat-icon-button matTooltip="{{ userRole }}">
      <mat-icon>person</mat-icon>
    </button>
  </mat-toolbar>
  <mat-sidenav-container class="contenido">
    <mat-sidenav style="min-width: 250px" #cajon mode="side" opened>
      <mat-nav-list>
        <mat-list-item
          (click)="showClientSubmenu = !showClientSubmenu"
          class="parent"
          *ngIf="isLogged"
        >
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Klienci</span
          >
          <mat-icon mat-list-icon>person</mat-icon>
          <mat-icon
            class="menu-button"
            [ngClass]="{ rotated: showClientSubmenu }"
            *ngIf="isExpanded || isShowing"
            >expand_more</mat-icon
          >
        </mat-list-item>
        <div
          class="submenu"
          [ngClass]="{ expanded: showClientSubmenu }"
          *ngIf="showClientSubmenu"
        >
          <a mat-list-item [routerLink]="['/client-list']"
            ><mat-icon>search</mat-icon>Szukaj</a
          >
          <a
            mat-list-item
            [routerLink]="['/client-add']"
            *ngIf="userRole != 'EMPLOYEE'"
            ><mat-icon>add</mat-icon>Dodaj</a
          >
        </div>

        <mat-list-item
          (click)="showEmployeeSubmenu = !showEmployeeSubmenu"
          class="parent"
          *ngIf="isLogged && userRole != 'EMPLOYEE'"
        >
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Pracownicy</span
          >
          <mat-icon mat-list-icon>person_outline</mat-icon>
          <mat-icon
            class="menu-button"
            [ngClass]="{ rotated: showEmployeeSubmenu }"
            *ngIf="isExpanded || isShowing"
            >expand_more</mat-icon
          >
        </mat-list-item>
        <div
          class="submenu"
          [ngClass]="{ expanded: showEmployeeSubmenu }"
          *ngIf="showEmployeeSubmenu"
        >
          <a mat-list-item [routerLink]="['/employee-list']"
            ><mat-icon>search</mat-icon>Szukaj</a
          >
          <a mat-list-item [routerLink]="['/employee-add']"
            ><mat-icon>add</mat-icon>Dodaj</a
          >
        </div>

        <mat-list-item
          (click)="showManagerSubmenu = !showManagerSubmenu"
          class="parent"
          *ngIf="isLogged && userRole == 'ADMIN'"
        >
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Kierownictwo</span
          >
          <mat-icon mat-list-icon>manager</mat-icon>
          <mat-icon
            class="menu-button"
            [ngClass]="{ rotated: showManagerSubmenu }"
            *ngIf="isExpanded || isShowing"
            >expand_more</mat-icon
          >
        </mat-list-item>
        <div
          class="submenu"
          [ngClass]="{ expanded: showManagerSubmenu }"
          *ngIf="showManagerSubmenu"
        >
          <a mat-list-item [routerLink]="['/manager-list']"
            ><mat-icon>search</mat-icon>Szukaj</a
          >
          <a mat-list-item [routerLink]="['/manager-add']"
            ><mat-icon>add</mat-icon>Dodaj</a
          >
        </div>

        <mat-list-item
          (click)="showTaskSubmenu = !showTaskSubmenu"
          class="parent"
          *ngIf="isLogged"
        >
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Zadania</span
          >
          <mat-icon mat-list-icon>task</mat-icon>
          <mat-icon
            class="menu-button"
            [ngClass]="{ rotated: showTaskSubmenu }"
            *ngIf="isExpanded || isShowing"
            >expand_more</mat-icon
          >
        </mat-list-item>
        <div
          class="submenu"
          [ngClass]="{ expanded: showTaskSubmenu }"
          *ngIf="showTaskSubmenu"
        >
          <a
            mat-list-item
            [routerLink]="['/tasks-user']"
            *ngIf="userRole != 'MANAGER'"
            ><mat-icon>person_outline</mat-icon>Twoje</a
          >
          <a
            mat-list-item
            [routerLink]="['/tasks-available']"
            *ngIf="userRole != 'EMPLOYEE'"
            ><mat-icon>get_app</mat-icon>Przydziel</a
          >
          <a
            mat-list-item
            [routerLink]="['/tasks-approval']"
            *ngIf="userRole != 'EMPLOYEE'"
            ><mat-icon>check_box</mat-icon>Zatwierdź</a
          >
          <a mat-list-item [routerLink]="['/tasks-list']"
            ><mat-icon>history</mat-icon>Archiwum</a
          >
          <a
            mat-list-item
            [routerLink]="['/task-add']"
            *ngIf="userRole != 'EMPLOYEE'"
            ><mat-icon>add</mat-icon>Dodaj</a
          >
        </div>

        <mat-list-item
          (click)="showWorkplaceSubmenu = !showWorkplaceSubmenu"
          class="parent"
          *ngIf="isLogged"
        >
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Stanowiska</span
          >
          <mat-icon mat-list-icon>work</mat-icon>
          <mat-icon
            class="menu-button"
            [ngClass]="{ rotated: showWorkplaceSubmenu }"
            *ngIf="isExpanded || isShowing"
            >expand_more</mat-icon
          >
        </mat-list-item>
        <div
          class="submenu"
          [ngClass]="{ expanded: showWorkplaceSubmenu }"
          *ngIf="showWorkplaceSubmenu"
        >
          <a mat-list-item [routerLink]="['/workplace-list']"
            ><mat-icon>search</mat-icon>Szukaj</a
          >
        </div>

        <mat-list-item
          (click)="showEquipmentSubmenu = !showEquipmentSubmenu"
          class="parent"
          *ngIf="isLogged && userRole != 'EMPLOYEE'"
        >
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Wyposażenie</span
          >
          <mat-icon mat-list-icon>settings</mat-icon>
          <mat-icon
            class="menu-button"
            [ngClass]="{ rotated: showEquipmentSubmenu }"
            *ngIf="isExpanded || isShowing"
            >expand_more</mat-icon
          >
        </mat-list-item>
        <div
          class="submenu"
          [ngClass]="{ expanded: showEquipmentSubmenu }"
          *ngIf="showEquipmentSubmenu"
        >
          <a mat-list-item [routerLink]="['/equipment-list']"
            ><mat-icon>search</mat-icon>Szukaj</a
          >
          <a mat-list-item [routerLink]="['/equipment-add']"
            ><mat-icon>add</mat-icon>Dodaj</a
          >
        </div>
        <a mat-list-item [routerLink]="['/help']" *ngIf="isLogged">
          <span class="full-width" *ngIf="isExpanded || isShowing">Pomoc</span>
          <mat-icon mat-list-icon>help</mat-icon>
        </a>
        <mat-list-item [routerLink]="['/login']" *ngIf="!isLogged">
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Logowanie</span
          >
          <mat-icon mat-list-icon>login</mat-icon>
        </mat-list-item>

        <a mat-list-item (click)="logout()" *ngIf="isLogged">
          <span class="full-width" *ngIf="isExpanded || isShowing"
            >Wylogowanie</span
          >
          <mat-icon mat-list-icon>logout</mat-icon>
        </a>
      </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content class="p-2">
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
